
<html>

<head>
	<script src="js/kiwi.js"></script>
  <!--script src="js/kiwi.min.js"></script-->

  <!--script src="../particles-gl-0.9.5.min.js"></script-->
  <script src="../src/gameobject.js"></script>
  <script src="../src/renderer.js"></script>
  <script src="../src/shader.js"></script>
  
</head>
<body>
	<div id="testGameContainer">

	</div>

	<script type="text/javascript">

		var MyState = new Kiwi.State("myState");
		
		var MyGame = new Kiwi.Game("testGameContainer","testGame",MyState,{plugins:["ParticlesGL"],renderer:Kiwi.RENDERER_WEBGL});

		MyState.preload = function() {
			this.game.stage.color="000000"
    		this.addImage('particle', 'assets/particle_01.png');
  		};

		MyState.create = function() {
			//create a particle object
			//params are
			//1) the state(this),
			//2) the texture to use,
			//3) an optional configuration object (see example configuration below). if not supplied or null, this will use a default configuration.
			//4) whether to start generate and start emitting particles immediately (also optional - defaults to true)	
			var particle1 = new Kiwi.GameObjects.StatelessParticles(this,this.textures.particle,400,300,config);
     
			//if you haven't started the particle objects yet then you can adjust the configuration
			particle1.config.numParts = 100;
     
      //start the particle object
			this.addChild(particle1);
    
      //press the sapce bar to emit particles

      this.game.input.keyboard.onKeyDownOnce.add (function(keyCode) {
        if (keyCode === 32) particle1.startEmitting();
      });

       this.game.input.keyboard.onKeyUp.add (function(keyCode) {
        if (keyCode === 32) particle1.stopEmitting();
      });

    

		};

    MyState.update = function () {
     Kiwi.State.prototype.update.call(this);
    
    }


   
var config = {
  "numParts": 20,
  "posOffsetX": 0,
  "posOffsetY": 0,
  "posRadius": 10,
  "posRadialStart": 0,
  "posRadialEnd": 6.14355896702004,
  "posWidth": 200,
  "posHeight": 200,
  "posConstrainRect": true,
  "posAngle": 0,
  "posLength": 200,
  "posRandomLine": true,
  "posConstrainRadial": true,
  "posRandomRadial": false,
  "posShape": "radial",
  "maxVel": 100,
  "minVel": 100,
  "velConstrainRect": true,
  "velConstrainRadial": true,
  "velRandomRadial": false,
  "velShape": "radial",
  "velOffsetX": -100,
  "velOffsetY": 50,
  "velAngMin": 2.8,
  "velAngMax": -8.1,
  "velRadius": 250.8,
  "velRadialStart": 5.358160803622591,
  "velRadialEnd": 3.647738136668149,
  "velWidth": 200,
  "velHeight": 200,
  "velAngle": 0,
  "velLength": 200,
  "velRandomLine": false,
  "minStartTime": 0,
  "maxStartTime": 1,
  "minLifespan": 1,
  "maxLifespan": 2,
  "gravityX": 60,
  "gravityY": 30,
  "startSize": 39,
  "endSize": 140,
  "loop": true,
  "colEnvKeyframes": [
    0.5,
    0.6
  ],
  "alpha": "1",
  "colEnv0": [
    1.0,
    0,
    0
  ],
  "colEnv1": [
    1,
    0,
    0
  ],
  "colEnv2": [
    1,
    0,
    0
  ],
  "colEnv3": [
    0,
    0,
    0
  ],
  "alphaGradient": [
    1,
    1,
    1,
    0
  ],
  "alphaStops": [
    0.3,
    0.7
  ]
}

	</script>

</body>

</html>